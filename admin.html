<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Åžafak Vakti - Admin Paneli</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; display: flex; justify-content: center; }
        .admin-card { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h2 { color: #1e293b; text-align: center; margin-bottom: 25px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #64748b; font-size: 0.9rem; }
        textarea, input { width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #e2e8f0; border-radius: 10px; box-sizing: border-box; font-size: 1rem; }
        button { background: #38bdf8; color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; font-size: 1rem; cursor: pointer; transition: 0.3s; }
        button:hover { background: #0ea5e9; }
        #status { text-align: center; margin-top: 15px; font-weight: bold; display: none; }
        .success { color: #10b981; }
    </style>
</head>
<body>

    <div class="admin-card">
        <h2>Åžafak Vakti YÃ¶netim</h2>
        
        <label>ðŸ“¢ Ãœst Duyuru (KÄ±rmÄ±zÄ± Alan)</label>
        <input type="text" id="duyuruInput" placeholder="Ã–rn: HayÄ±rlÄ± Cumalar...">

        <label>ðŸ“– Vaktin Ayeti</label>
        <textarea id="ayetInput" rows="3" placeholder="Ayet ve numarasÄ±nÄ± yazÄ±n..."></textarea>
        
        <label>ðŸ“œ Hikmetname / GÃ¼nÃ¼n SÃ¶zÃ¼</label>
        <textarea id="hikmetInput" rows="3" placeholder="GÃ¼nÃ¼n gÃ¼zel sÃ¶zÃ¼nÃ¼ yazÄ±n..."></textarea>

        <button onclick="guncelle()">UYGULAMAYI GÃœNCELLE</button>
        <div id="status">âœ… GÃ¼ncelleme BaÅŸarÄ±lÄ±!</div>
    </div>

    <script>
        // Senin Firebase Bilgilerin
        const firebaseConfig = {
            apiKey: "AIzaSyC6VtB6eHqiNNyoJ0x4yCpnGChB6p9AYnM",
            authDomain: "safakvakti-5f929.firebaseapp.com",
            projectId: "safakvakti-5f929",
            storageBucket: "safakvakti-5f929.firebasestorage.app",
            messagingSenderId: "1089272374742",
            appId: "1:1089272374742:web:bc422dad721627342fb077"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        async function guncelle() {
            const ayet = document.getElementById('ayetInput').value;
            const hikmet = document.getElementById('hikmetInput').value;
            const duyuru = document.getElementById('duyuruInput').value;
            const btn = document.querySelector('button');
            const status = document.getElementById('status');

            btn.disabled = true;
            btn.innerText = "GÃ–NDERÄ°LÄ°YOR...";

            try {
                await db.collection("icerik").doc("guncel").set({
                    ayet: ayet,
                    hikmet: hikmet,
                    duyuru: duyuru,
                    sonGuncelleme: new Date().toLocaleString('tr-TR')
                });
                
                status.style.display = "block";
                status.className = "success";
                
                setTimeout(() => { 
                    status.style.display = "none";
                    btn.disabled = false;
                    btn.innerText = "UYGULAMAYI GÃœNCELLE";
                }, 3000);

            } catch (e) {
                alert("Hata: " + e.message);
                btn.disabled = false;
                btn.innerText = "TEKRAR DENE";
            }
        }

        // Mevcut verileri Ã§ekip kutulara doldur (dÃ¼zenleme kolaylÄ±ÄŸÄ± iÃ§in)
        db.collection("icerik").doc("guncel").get().then((doc) => {
            if (doc.exists) {
                const v = doc.data();
                document.getElementById('ayetInput').value = v.ayet || "";
                document.getElementById('hikmetInput').value = v.hikmet || "";
                document.getElementById('duyuruInput').value = v.duyuru || "";
            }
        });
    </script>
</body>
</html>
